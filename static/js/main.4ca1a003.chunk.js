(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(43)},22:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(15),l=n.n(i),s=(n(22),n(2)),c=n(3),r=n(5),u=n(4),p=n(6),d=function(e){function t(){return Object(s.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Places"},o.a.createElement("a",{href:"javascript:void(0)"},this.props.venue.name))}}]),t}(o.a.Component),m=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(r.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).loadMap=function(){n.loadscript("https://maps.googleapis.com/maps/api/js?key=AIzaSyCn5XAF4sSSjnjEVvWd8yB-nAyG8YOIb0o&callback=initMap"),window.initMap=n.initMap},n.initMap=function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:n.props.lat,lng:n.props.lng},zoom:16}),t=(new window.google.maps.Marker({position:{lat:n.props.lat,lng:n.props.lng},map:e,label:"You"}),n.props.lat+","+n.props.lng),a=new window.google.maps.LatLngBounds,o=new window.google.maps.InfoWindow,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";n.props.venues.map(function(n,l){var s=new window.google.maps.Marker({position:{lat:n.venue.location.lat,lng:n.venue.location.lng},label:i[l%i.length],map:e}),c="<a href=https://www.google.com/maps/dir/"+t+"/"+n.venue.location.address+' target="_blank">Directions</a>',r="<div><h3>"+n.venue.name+"</h3><p>"+n.venue.location.address+","+n.venue.location.formattedAddress[1]+"\n"+c+"</p></div>";return window.google.maps.event.addListener(s,"click",function(t){o.setContent(r),o.open(e,s)}),window.google.maps.event.addListener(s,"dblclick",function(e){this.map.setZoom(20),this.map.setCenter(s.getPosition())}),a.extend(s.getPosition()),e.fitBounds(a),s})},n.loadscript=function(e){var t=window.document.getElementsByTagName("script")[0],n=window.document.createElement("script");n.src=e,n.async=!0,n.defer=!0,t.parentNode.insertBefore(n,t)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{id:"map"}," "))}},{key:"componentDidMount",value:function(){this.loadMap()}},{key:"shouldComponentUpdate",value:function(e,t){var n=!1;return e.locations!==this.props.locations?(n=!0,this.loadMap()):n=!1,n}}]),t}(o.a.Component),g=n(8),h=n.n(g),v=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).handleClick=function(t){t.preventDefault(),e.setState({locations:[]}),e.getVenues(e.state.query),e.getNearby(e.state.query)},e.handleChange=function(t){console.log(t.target.value),e.setState({query:t.target.value})},e.getLocation=function(){navigator.geolocation.getCurrentPosition(function(t){console.log(t.coords),e.setState({latlong:t.coords.latitude+", "+t.coords.longitude,lat:t.coords.latitude,lng:t.coords.longitude})})},e.getVenues=function(t){var n={client_id:"MBDW52IQNZDUMKO4LXYXNLDGNNSAEBY4KMGNTSHCNKPO1ZXQ",client_secret:"Y2DLAVALWAYU5TYZUIORUPN21HRNZPQGO0VVOWN15REYC4OB",ll:e.state.latlong,query:t,v:"20190101",limit:5,openNow:1};h.a.get("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams(n)).then(function(t){console.log(t.data.response.groups[0].items),e.setState({venues:t.data.response.groups[0].items})}).then(function(t){e.logLocations(),e.setState({isMap:!0})})},e.getNearby=function(t){var n={location:e.state.latlong,opennow:!0,key:"AIzaSyCn5XAF4sSSjnjEVvWd8yB-nAyG8YOIb0o",radius:2e3,type:"restaurant",query:t};h.a.get("https://maps.googleapis.com/maps/api/place/nearbysearch/json?"+new URLSearchParams(n)).then(function(e){console.log(e)})},e.logLocations=function(){e.state.venues.map(function(t){return e.setState({locations:e.state.locations.concat({lat:t.venue.location.lat,lng:t.venue.location.lng})})})},e.state={latlong:"",venues:[],query:"",lat:0,lng:0,locations:[],isMap:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"Place"},o.a.createElement("ul",{className:"header"},o.a.createElement("form",{onSubmit:this.handleClick},o.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4VdmZk_mf-XHIQ9iPcDGDIv-SuiY9PYlANTeagAP0kWu-t3CMbw",onClick:this.menu}),o.a.createElement("li",null,"FillMyStomach"),o.a.createElement("input",{id:"query",type:"text",placeholder:"Coffee, sushi, pizza, etc...",onChange:this.handleChange,autoFocus:!0}),o.a.createElement("button",{id:"submit"},"Let's Eat!"),this.state.venues.map(function(t){return o.a.createElement("li",{key:t.venue.id},o.a.createElement(d,{venue:t.venue,lat:e.state.lat,lng:e.state.lng}))}))),o.a.createElement(m,{lat:this.state.lat,lng:this.state.lng,locations:this.state.locations,venues:this.state.venues})))}},{key:"componentDidMount",value:function(){this.getLocation()}},{key:"menu",value:function(){console.log("works")}}]),t}(o.a.Component),f=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(r.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).loadScript=function(){var e=window.document.getElementsByTagName("link")[0],t=window.document.createElement("link");t.href="https://fonts.googleapis.com/css?family=Acme",t.rel="stylesheet",e.parentNode.insertBefore(t,e)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(v,null))}},{key:"componentDidMount",value:function(){this.loadScript()}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.4ca1a003.chunk.js.map